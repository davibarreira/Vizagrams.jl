<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>3 - Data Vizualization Basics · Vizagrams.jl</title><meta name="title" content="3 - Data Vizualization Basics · Vizagrams.jl"/><meta property="og:title" content="3 - Data Vizualization Basics · Vizagrams.jl"/><meta property="twitter:title" content="3 - Data Vizualization Basics · Vizagrams.jl"/><meta name="description" content="Documentation for Vizagrams.jl."/><meta property="og:description" content="Documentation for Vizagrams.jl."/><meta property="twitter:description" content="Documentation for Vizagrams.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Vizagrams.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Vizagrams.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../1_basics/">1 - Diagramming Basics</a></li><li><a class="tocitem" href="../2_custommarks/">2 - Custom Marks</a></li><li class="is-active"><a class="tocitem" href>3 - Data Vizualization Basics</a><ul class="internal"><li><a class="tocitem" href="#1.-First-Data-Visualization"><span>1. First Data Visualization</span></a></li><li><a class="tocitem" href="#2.-Graphic-Specification"><span>2. Graphic Specification</span></a></li><li><a class="tocitem" href="#3.-More-Examples"><span>3. More Examples</span></a></li></ul></li><li><a class="tocitem" href="../4_expressiveness/">4 - Graphic Expressions</a></li><li><a class="tocitem" href="../5_customization/">5 - Customizing Visualizations</a></li><li><a class="tocitem" href="../6_polar/">6 - Polar Visualizations</a></li><li><a class="tocitem" href="../7_composite/">7 - Composite Visualizations</a></li></ul></li><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../../gallery/boxplot/">BoxPlot</a></li><li><a class="tocitem" href="../../gallery/groupedbar/">Grouped Bar Chart</a></li><li><a class="tocitem" href="../../gallery/histogram/">Histogram</a></li><li><a class="tocitem" href="../../gallery/minard/">Minard&#39;s Chart</a></li><li><a class="tocitem" href="../../gallery/moritz/">OECD Better Life Index</a></li><li><a class="tocitem" href="../../gallery/pca/">PCA</a></li><li><a class="tocitem" href="../../gallery/penguins/">Penguins</a></li><li><a class="tocitem" href="../../gallery/nightingale/">Rose Diagram</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>3 - Data Vizualization Basics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>3 - Data Vizualization Basics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/davibarreira/Vizagrams.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/davibarreira/Vizagrams.jl/blob/master/docs/src/tutorials/3_datavisualization.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Basics-of-Data-Visualization"><a class="docs-heading-anchor" href="#Basics-of-Data-Visualization">Basics of Data Visualization</a><a id="Basics-of-Data-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Basics-of-Data-Visualization" title="Permalink"></a></h1><p>Vizagrams is more than a diagram drawing package, it is also a tool for data visualization. The main idea is to integrate diagramming with data visualization, hence increasing the kind of visualizations we can express. This integration is made possible mainly due to the way graphical marks are coded.</p><p>The way Vizagrams defines graphical marks allows us to create marks such as axes, grids, legends, and so on, which help us assemble a plot. All these elements are used by a more general mark called <code>Plot</code>. The parameters used to create an instance of <code>Plot</code> is what we call a graphic specification.</p><p>Vizagrams is a visualization grammar in the sense that it provides a graphic specification. Moreover, the specification follows the specification style of Vega-Lite, with some slight modifications. If you know Vega-Lite, the way Vizagrams defines plots will be very familiar to you. Yet, for those that are not used to visualization grammars, Vizagrams also provides some quick functions to produce plots.</p><pre><code class="language-julia hljs">using Vizagrams
using DataFrames
using Statistics
using Random</code></pre><h2 id="1.-First-Data-Visualization"><a class="docs-heading-anchor" href="#1.-First-Data-Visualization">1. First Data Visualization</a><a id="1.-First-Data-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#1.-First-Data-Visualization" title="Permalink"></a></h2><p>We start with a very simple example. We generate some random values, and then create a plot using the function, you guessed it, <code>plot</code>. This function is just a quick way to specify a plot without having to write the whole specification.</p><pre><code class="language-julia hljs">Random.seed!(4)
plt = plot(x=rand(10),y=rand(10))
draw(plt,height=300)</code></pre><img src="36cf9171.svg" alt="Example block output"/><p>We have a plot. More interestingly, the <code>plt</code> object is a diagram, thus, we can manipulate and compose with other marks.</p><pre><code class="language-julia hljs">d1 = plt↑S(:fontWeight =&gt; :bold)TextMark(; text=&quot;This is my plot&quot;, anchor=:e, fontsize=14)
d2 =
    R(π / 5) * (
        plt↑(
            S(:fontWeight =&gt; :bold) *
            TextMark(; text=&quot;This is my plot rotated&quot;, anchor=:e, fontsize=14)
        )
    )

d = d1 → (T(50, 0), d2)
draw(d)</code></pre><img src="8eb1aca3.svg" alt="Example block output"/><h2 id="2.-Graphic-Specification"><a class="docs-heading-anchor" href="#2.-Graphic-Specification">2. Graphic Specification</a><a id="2.-Graphic-Specification-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Graphic-Specification" title="Permalink"></a></h2><p>For more control over a data visualization, one can use a graphic specification. A specification is a description of the plot, which contains information such as how to map the data to the visual variables, which type of graphical marks one must use, how to scale the data, and so on. As we have stated, Vizagrams follows the specification style from Vega-Lite.</p><p>First, let us import a dataframe to be visualized.</p><pre><code class="language-julia hljs">using VegaDatasets
df = DataFrame(dataset(&quot;cars&quot;));

# We need to drop missing values, as Vizagrams does not handle them yet.
df = dropmissing(df);</code></pre><pre><code class="language-julia hljs">plt = Plot(
    data=df,
    encodings=(
        x=(field=:Horsepower,),
        y=(field=:Miles_per_Gallon,),
        color=(field=:Origin,)
    ),
    graphic=Circle(r=5)
)
draw(plt)</code></pre><img src="b81b95c2.svg" alt="Example block output"/><p>Note that in the example above, Vizagrams tries to infer the proper scaling and axes for the given plot based on the underlying data. For example, Vizgrams is guessing that both <code>:Horsepower</code> and <code>:Miles_per_Gallon</code> are quantitative data, while <code>:Origin</code> is nominal.</p><p>Users can provide more parameters to the graphic specifcation in order to get a graphic closer to ones preferences. For example, besides <code>data</code>, <code>encoding</code> and <code>graphic</code>, one can use parameters such as <code>title</code>, <code>figsize</code> and <code>config</code>.</p><p>Below we increment the previous plot with more parameters:</p><pre><code class="language-julia hljs">p = Plot(
    title=&quot;Plot&quot;,
    figsize=(500,300),
    config=(
        xgrid=(flag=true,),
        ygrid=(flag=true,)
        ),
    data=df,
    encodings=(
        x=(field=:Horsepower,datatype=:q),
        y=(field=:Miles_per_Gallon,),
        color=(field=:Acceleration,scale_range=(:red,:blue)),
        size = (field = :Cylinders,datatype=:o, scale_range=(1,3)),
    ),
    graphic=S(:stroke=&gt;:black)Circle(r=3)
)

draw(p, height=300)</code></pre><img src="fb3401cf.svg" alt="Example block output"/><p>Let us explore a bit of our specification:</p><pre><code class="language-julia hljs">p = Plot(
    title=&quot;Plot&quot;,
    figsize=(300,300),
    config=(
        xgrid=(flag=true,),
        ygrid=(flag=true,)
        ),
    data=df,
    encodings=(
        x=(field=:Horsepower,datatype=:q),
        y=(field=:Miles_per_Gallon,),
        color=(field=:Acceleration,scale_range=(:red,:blue)),
        size = (field = :Cylinders,datatype=:o, scale_range=(1,3)),
    ),
    graphic=S(:stroke=&gt;:black)Circle(r=3)
)</code></pre><p>The main fields we have here are <code>title</code>, <code>figsize</code>, <code>config</code>, <code>data</code>, <code>encodings</code>, and <code>graphic</code>.</p><ul><li><p><code>title</code> is title above the plot;</p></li><li><p><code>figsize</code> is pixel size for frame containing the graphic;</p></li><li><p><code>config</code> is</p></li></ul><p>for extra attributes for manipulating aesthetic aspects of the plot, such as grids, axes style, and so on&#39;</p><ul><li><p><code>data</code> is picking the dataset;</p></li><li><p><code>encodings</code> is mapping the visual variables (positions <code>x</code> <code>y</code>, and</p></li></ul><p><code>color</code>) to the data columns (<code>x goes to</code>:Horsepower<code>,</code>y<code>goes to</code>:Miles<em>per</em>Gallon<code>and</code>color<code>goes to</code>:Field`);</p><ul><li><code>graphic</code> is defininig how to draw the graphic inside the plotting context.</li></ul><p>All these parameters are somewhat the same as in Vega-Lite, with the exception of <code>graphic</code>.</p><p>In Vega-Lite and other visualization grammars (e.g. ggplot), instead of this field <code>graphic</code> they have a field <em>mark</em> or <em>geom</em> (stands for geometry). Their role is very similar to what we have called <em>graphic</em> in the sense that they describe the sort of &quot;graphical mark&quot; to be drawn in the plotting frame. Yet, as will be shown further, <code>graphic</code> contains what is called <em>graphic expression</em>, which are functions that map a set of data to a diagram.</p><h2 id="3.-More-Examples"><a class="docs-heading-anchor" href="#3.-More-Examples">3. More Examples</a><a id="3.-More-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#3.-More-Examples" title="Permalink"></a></h2><p>We end this tutorial presenting some more examples. We do not dive into the extra capabilities of the <code>graphic</code> parameter in this tutorial.</p><pre><code class="language-julia hljs">gdf = combine(groupby(df,[:Year,:Origin]),:Horsepower=&gt;mean,:Miles_per_Gallon=&gt;mean)

plt = Plot(
    config=(xaxis=(ticktextangle=π/2,),),
    data=gdf,
    encodings=(
        x=(field=:Year,),
        y=(field=:Horsepower_mean,),
        color=(field=:Origin,),
    ),
    graphic= S(:strokeWidth=&gt;4)Line()
)
draw(plt)</code></pre><img src="3a2a1893.svg" alt="Example block output"/><p>If we want to draw the points over the line, we can just add the circles.</p><pre><code class="language-julia hljs">plt = Plot(
    config=(xaxis=(ticktextangle=π/2,),),
    data=gdf,
    encodings=(
        x=(field=:Year,),
        y=(field=:Horsepower_mean,),
        color=(field=:Origin,),
    ),
    graphic= S(:strokeWidth=&gt;4)Line() + S(:opacity=&gt;1)Square(l=10)
)
draw(plt)</code></pre><img src="7a0895d8.svg" alt="Example block output"/><p>Vizagrams also has default behavior for marks such as bars.</p><pre><code class="language-julia hljs">gdf = combine(groupby(df,[:Year,:Origin]),:Horsepower=&gt;mean,:Miles_per_Gallon=&gt;mean)

plt = Plot(
    config=(xaxis=(ticktextangle=π/2,),),
    data=gdf,
    encodings=(
        x=(field=:Year,),
        y=(field=:Horsepower_mean,),
    ),
    graphic= S(:fill=&gt;:steelblue)Bar(w=20)
)
draw(plt)</code></pre><img src="3ccc193a.svg" alt="Example block output"/><pre><code class="language-julia hljs">gdf = combine(groupby(df,[:Year,:Origin]),:Horsepower=&gt;mean,:Miles_per_Gallon=&gt;mean)

plt = Plot(
    config=(xaxis=(ticktextangle=π/2,),),
    data=gdf,
    encodings=(
        x=(field=:Year,),
        y=(field=:Horsepower_mean,scale_domain=(0,400)),
        color=(field=:Origin,),
    ),
    graphic= S(:stroke=&gt;:black)Bar(w=20)
)
draw(plt)</code></pre><img src="94ea7eae.svg" alt="Example block output"/><pre><code class="language-julia hljs">disasters = DataFrame(dataset(&quot;disasters&quot;))
disasters = dropmissing(disasters);
disasters = filter(Cols(:Entity)=&gt;x-&gt;x!=&quot;All natural disasters&quot;, disasters);

plt = Plot(
    title=&quot;Disasters&quot;,
    config = (
        grid=NilD(),
        ),
    figsize=(500,400),
    data=disasters,
    encodings=(
        x = (field = :Year, datatype = :q, scale_domain=(1900,2017)),
        y = (field = :Entity,datatype=:n, scale_domain=unique(sort(disasters.Entity, rev=true))),
        color = (field = :Entity,legend=(flag=false,)),
        size = (field = :Deaths,datatype=:q, scale_domain =(0,maximum(disasters.Deaths)), scale_range=(2,30))
    ),
    graphic = S(:stroke=&gt;:black,:opacity=&gt;0.8)Circle()
)

draw(plt, height=500)</code></pre><img src="1d590b5e.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../2_custommarks/">« 2 - Custom Marks</a><a class="docs-footer-nextpage" href="../4_expressiveness/">4 - Graphic Expressions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Thursday 26 September 2024 00:55">Thursday 26 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
