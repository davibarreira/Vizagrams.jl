<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>5 - Customizing Visualizations · Vizagrams.jl</title><meta name="title" content="5 - Customizing Visualizations · Vizagrams.jl"/><meta property="og:title" content="5 - Customizing Visualizations · Vizagrams.jl"/><meta property="twitter:title" content="5 - Customizing Visualizations · Vizagrams.jl"/><meta name="description" content="Documentation for Vizagrams.jl."/><meta property="og:description" content="Documentation for Vizagrams.jl."/><meta property="twitter:description" content="Documentation for Vizagrams.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Vizagrams.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Vizagrams.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../1_basics/">1 - Diagramming Basics</a></li><li><a class="tocitem" href="../2_custommarks/">2 - Custom Marks</a></li><li><a class="tocitem" href="../3_datavisualization/">3 - Data Vizualization Basics</a></li><li><a class="tocitem" href="../4_expressiveness/">4 - Graphic Expressions</a></li><li class="is-active"><a class="tocitem" href>5 - Customizing Visualizations</a><ul class="internal"><li><a class="tocitem" href="#1.-Legends"><span>1. Legends</span></a></li><li><a class="tocitem" href="#2.-Frames-and-Axes"><span>2. Frames and Axes</span></a></li><li><a class="tocitem" href="#3.-Titles"><span>3. Titles</span></a></li></ul></li><li><a class="tocitem" href="../6_polar/">6 - Polar Visualizations</a></li><li><a class="tocitem" href="../7_composite/">7 - Composite Visualizations</a></li></ul></li><li><span class="tocitem">Gallery</span><ul><li><a class="tocitem" href="../../gallery/boxplot/">BoxPlot</a></li><li><a class="tocitem" href="../../gallery/groupedbar/">Grouped Bar Chart</a></li><li><a class="tocitem" href="../../gallery/histogram/">Histogram</a></li><li><a class="tocitem" href="../../gallery/minard/">Minard&#39;s Chart</a></li><li><a class="tocitem" href="../../gallery/moritz/">OECD Better Life Index</a></li><li><a class="tocitem" href="../../gallery/pca/">PCA</a></li><li><a class="tocitem" href="../../gallery/penguins/">Penguins</a></li><li><a class="tocitem" href="../../gallery/nightingale/">Rose Diagram</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>5 - Customizing Visualizations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>5 - Customizing Visualizations</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/davibarreira/Vizagrams.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/davibarreira/Vizagrams.jl/blob/master/docs/src/tutorials/5_customization.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Customizing-Visualizations"><a class="docs-heading-anchor" href="#Customizing-Visualizations">Customizing Visualizations</a><a id="Customizing-Visualizations-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-Visualizations" title="Permalink"></a></h1><p>Before we go into more details on how to construct complex visualizations, let us explain how one can customize the plots generated by Vizagrams specification.</p><pre><code class="language-julia hljs">using Vizagrams
using DataFrames
using Statistics
using Random
using VegaDatasets
df = DataFrame(dataset(&quot;cars&quot;));

# We need to drop missing values, as Vizagrams does not handle them yet.
df = dropmissing(df);</code></pre><p>When creating a plot in Vizagrams, many defaults are guessed in order to make the specification less verbose. Yet, if one wishes, it is possible to alter such deafults in order to produce custom visuals.</p><h2 id="1.-Legends"><a class="docs-heading-anchor" href="#1.-Legends">1. Legends</a><a id="1.-Legends-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Legends" title="Permalink"></a></h2><p>When visualizations become more complex, so do their legends. Consider, for example, the scatter plot with faces as marks.</p><pre><code class="language-julia hljs">plt = Plot(
    title=&quot;MyPlot&quot;,
    data=df,
    encodings=(
        x = (field = :Horsepower,),
        y = (field = :Displacement,),
        color = (field = :Origin, scale_range=:tableau_superfishel_stone),
        smile = (field = :Cylinders, scale_range=(-1,1), legend=(fmark=x-&gt;Face(size=7,smile=x),)),
    ),
    graphic = ∑() do row
        T(row[:x],row[:y])U(5)Face(headstyle=S(:fill=&gt;row[:color]),smile=row[:smile])
    end
)


draw(plt, height=400)</code></pre><img src="2d4ba957.svg" alt="Example block output"/><p>When a user defines a new encoder, such as <code>smile</code>, by default, no legend will be drawn. If the user wants a legend, it is possible to specify a function, through the  <code>fmark</code> argument, which takes the values encoded and draws a mark. Another option is for users to draw the legends as a separate diagram, and incorporate it into the plot.</p><p>In the example above, we have used the <code>fmark</code> option. Let us now create a new customized legend.</p><pre><code class="language-julia hljs">plt = Plot(
    title=&quot;MyPlot&quot;,
    data=df,
    encodings=(
        x = (field = :Horsepower,),
        y = (field = :Displacement,),
        color = (field = :Origin, scale_range=:tableau_superfishel_stone),
        smile = (field = :Cylinders, scale_range=(-1,1)),
    ),
    graphic = ∑() do row
        T(row[:x],row[:y])U(5)Face(headstyle=S(:fill=&gt;row[:color]),smile=row[:smile])
    end
)


legend_title = S(:fontWeight =&gt; &quot;bold&quot;)TextMark(fontfamily=&quot;Helvetica&quot;,text=&quot;Smile&quot;,fontsize=8)
legend_marks =
        Face(smile=-1) ↓
        (T(0,-0.4),TextMark(text=&quot;Cylinders = 3&quot;,fontsize=0.6)) →
        (T(2,0),TextMark(text=&quot;...&quot;,fontsize=1)) →
        (T(2,0),Face(smile=1) ↓
        (T(0,-0.4),TextMark(text=&quot;Cylinders = 3&quot;,fontsize=0.6)))
legend = legend_title ↓ (T(0,-10),U(8)legend_marks)

draw(plt + T(plt.config.figsize[1]+30,130)legend, height=400)</code></pre><img src="4e7f9536.svg" alt="Example block output"/><h2 id="2.-Frames-and-Axes"><a class="docs-heading-anchor" href="#2.-Frames-and-Axes">2. Frames and Axes</a><a id="2.-Frames-and-Axes-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Frames-and-Axes" title="Permalink"></a></h2><p>Through the <code>config</code> argument in the graphic specification, users can thoroughly customize the frame and axes of plots.</p><pre><code class="language-julia hljs">gdf = combine(groupby(df,[:Year,:Origin]),:Horsepower=&gt;mean,:Miles_per_Gallon=&gt;mean,:Cylinders=&gt;median)

gdf = sort(gdf,:Year)

plt = Plot(
    config=(
            frame_style=S(:stroke=&gt;:white),
            xgrid = (;style=S(:strokeWidth=&gt;30,:strokeOpacity=&gt;0.05)),
            xaxis=(
                    title=&quot;years&quot;,
                    titleangle=π/2,
                    titlefontsize=8,
                    ticktextangle=π/2,
                    ticktexts=collect(1970:1982),
                    axisarrow=S(:stroke=&gt;:red,:fill=&gt;:red)Arrow(pts=[[0,0],[300,0]],headsize=5),
            ),
            ygrid=NilD(),
            yaxis=(
                    title=TextMark(text=&quot;Mean Horsepower&quot;,fontsize=7,style= S(:fontWeight=&gt;:bold), angle=π/2),
                    ticktextangle=π/2,
                    tickmark=T(2,0)Square(l=6),
            ),
        ),
    data = gdf,
    encodings=(
        x=(field=:Year,),
        y=(field=:Horsepower_mean,),
        color=(field=:Origin,),
        size = (field = :Cylinders_median,),
    ),
    graphic = S(:opacity=&gt;0.5,:stroke=&gt;:black)Circle()
)

draw(plt,height=400,pad=30)</code></pre><img src="ccd0a721.svg" alt="Example block output"/><h2 id="3.-Titles"><a class="docs-heading-anchor" href="#3.-Titles">3. Titles</a><a id="3.-Titles-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Titles" title="Permalink"></a></h2><p>At last, we have the title of a plot. The simplest way to customize a title is to omit is from the graphic specification, and instead join it to the plot using the diagram opeartions.</p><pre><code class="language-julia hljs">plt = Plot(
    data=df,
    encodings=(
        x = (field = :Horsepower,),
        y = (field = :Displacement,),
        size = (field = :Cylinders,),
    ),
    graphic = S(:fill=&gt;:steelblue,:opacity=&gt;0.2,:stroke=&gt;:black)Circle()
)

maintitle = S(:fontWeight=&gt;:bold)TextMark(text=&quot;Main Title&quot;, anchor=:e,fontfamily=&quot;monospace&quot;)
subtitle = S(:fontStyle=&gt;:italic)TextMark(text=&quot;Subtitle&quot;, anchor=:e, fontsize=8,fontfamily=&quot;monospace&quot;)

title = maintitle ↓ (T(0,-5),subtitle)

d = plt ↑ title

draw(d, height=400)</code></pre><img src="addba019.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../4_expressiveness/">« 4 - Graphic Expressions</a><a class="docs-footer-nextpage" href="../6_polar/">6 - Polar Visualizations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 23 September 2024 12:38">Monday 23 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
